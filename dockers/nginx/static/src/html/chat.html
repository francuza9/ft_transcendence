<button id="chat-btn" class="chat-btn" data-action="openChat">
    <i class="ri-chat-2-fill"></i>
</button>
<div id="chat-window" class="text-center hidden">
    <div id="chat-header">
		<button id="back-btn" class="back-btn hidden" data-action="backToFriends">
            <i class="ri-arrow-left-line"></i>
        </button>
		<div id="chat-title" class="hidden" data-username="">
			<div class="avatar-container">
				<img id="chat-avatar" src="" alt="" width="30" height="30" class="rounded-circle">
				<span id="status-indicator" class="status-indicator"></span>
			</div>
			<span id="chat-name"></span>
		</div>
		<button id="manage-friends-btn" class="manage-friends-btn" data-action="loadFriendsModal" data-bs-toggle="modal" data-bs-target="#manage-friends-modal">
			<i class="ri-group-line"></i>
		</button>
        <button id="close-chat-btn" class="close-chat-btn" data-action="closeChat">
            <i class="ri-close-fill"></i>
        </button>
    </div>
    <div id="chat-content">
        <div id="friend-list" class="friend-list"></div>
        <div id="chat-area" class="hidden">
            <div id="messages"></div>
            <div id="message-input-area">
                <input type="text" id="chat-input" placeholder="Type a message">
                <button id="send-btn" class="send-btn" data-action="sendMessage">
                    <i class="ri-send-plane-fill"></i>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="manage-friends-modal" tabindex="-1" aria-labelledby="manageFriendsModalLabel" aria-hidden="true">
    <div id="friendsModal" class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="header w-100">
                <h4 class="modal-title" id="manageFriendsModalLabel">Friends</h4>
				<button id="close-modal-btn" type="button" data-bs-dismiss="modal" aria-label="Close">
					<i class="ri-close-fill"></i>
				</button>
                <div class="mb-4">
                    <div class="btn-group w-95" role="group" aria-label="Tab selection">
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked data-variable="tab" data-value="1">
                        <label class="btn btn-outline-primary" for="btnradio1" data-text="friends.add">Add Friends</label>

                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" data-variable="tab" data-value="2">
						<label class="btn btn-outline-primary" for="btnradio2" data-text="friends.manage">Manage Friends</label>

                        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off" data-variable="tab" data-value="3">
                        <label class="btn btn-outline-primary" for="btnradio3" data-text="friends.requests">Friend Requests</label>

                        <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off" data-variable="tab" data-value="4">
                        <label class="btn btn-outline-primary" for="btnradio4" data-text="friends.blocked">Blocked Users</label>
                    </div>
                </div>
			</div>
			<div class="modal-body">
                <!-- Add Friends Tab -->
                <div class="tab-pane fade show active" id="tab-pane-1" role="tabpanel">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" id="add-friend-input">
                        <button class="btn btn-primary" type="button" data-action="sendFriendRequest">
                            <i class="ri-add-fill"></i>
                        </button>
                    </div>
					<div>
						<p id="add-request-success" class="hidden" data-text="friends.addRequestSuccess">Friend Request sent succesfully!</p>
						<p id="add-request-fail" class="hidden" data-text="friends.addRequestFail">Couldn't find user!</p>
					</div>
                </div>

                <!-- Manage Friends Tab -->
                <div class="tab-pane fade" id="tab-pane-2" role="tabpanel">
                    <div class="table-responsive">
                        <table class="table table-centered">
                            <tbody id="friends-list">
                                <!-- Dynamic friend list will go here -->
                            </tbody>
                        </table>
                    </div>
					<div id="noFriendsMessage" class="hidden error-message" data-text="friends.noFriends">You have no friends!</div>
                </div>

                <!-- Friend Requests Tab -->
                <div class="tab-pane fade" id="tab-pane-3" role="tabpanel">
                    <div id="friend-requests-list">
                        <!-- Dynamic friend requests will go here -->
                    </div>
					<div id="noRequestsMessage" class="hidden error-message" data-text="friends.noRequests">You have no friend requests.</div>
                </div>

                <!-- Blocked Users Tab -->
                <div class="tab-pane fade" id="tab-pane-4" role="tabpanel">
                    <div class="table-responsive">
                        <table class="table table-centered">
                            <tbody id="blocked-users-list">
                                <!-- Dynamic blocked users list will go here -->
                            </tbody>
                        </table>
                    </div>
					<div id="noBlockedUsersMessage" class="hidden error-message" data-text="friends.noBlockedUsers">You have no blocked users.</div>
                </div>
			</div>
        </div>
    </div>
</div>
