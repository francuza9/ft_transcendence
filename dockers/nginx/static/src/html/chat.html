<button id="chat-btn" class="chat-btn" data-action="openChat">
    <i class="ri-chat-2-fill"></i>
</button>
<div id="chat-window" class="text-center hidden">
    <div id="chat-header">
		<button id="back-btn" class="back-btn hidden" data-action="backToFriends">
            <i class="ri-arrow-left-line"></i>
        </button>
		<div id="chat-title" class="hidden" data-username="">
			<div id="friend-container">
				<div class="avatar-container">
					<img id="chat-avatar" src="" alt="" width="30" height="30" class="rounded-circle">
					<span id="status-indicator" class="status-indicator"></span>
				</div>
				<span id="chat-name"></span>
			</div>
		</div>
		<button id="manage-friends-btn" class="manage-friends-btn" data-action="loadFriendsModal" data-bs-toggle="modal" data-bs-target="#manage-friends-modal">
			<i class="ri-group-line"></i>
		</button>
        <button id="close-chat-btn" class="close-chat-btn" data-action="closeChat">
            <i class="ri-close-fill"></i>
        </button>
    </div>
    <div id="chat-content">
        <div id="friend-list" class="friend-list"></div>
        <div id="chat-area" class="hidden">
            <div id="messages"></div>
            <div id="message-input-area">
                <input type="text" id="chat-input" placeholder="Type a message">
                <button id="send-btn" class="send-btn" data-action="sendMessage">
                    <i class="ri-send-plane-fill"></i>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="manage-friends-modal" tabindex="-1" aria-labelledby="manageFriendsModalLabel" aria-hidden="true">
    <div id="friendsModal" class="modal-dialog modal-lg">
        <div class="modal-content">
			<div class="header w-100">
                <h4 class="modal-title" id="manageFriendsModalLabel">Friends</h4>
				<button id="close-modal-btn" type="button" data-bs-dismiss="modal" aria-label="Close">
					<i class="ri-close-fill"></i>
				</button>
				<div class="mb-4">
					<div class="btn-group w-95" role="group" aria-label="Tab selection">
						<input type="radio" class="btn-check" name="btnradio" id="add" autocomplete="off" checked data-tab-value="add">
						<label class="btn btn-outline-primary" for="add" data-text="friends.add">Add Friends</label>

						<input type="radio" class="btn-check" name="btnradio" id="manage" autocomplete="off" data-tab-value="manage">
						<label class="btn btn-outline-primary" for="manage" data-text="friends.manage">Manage Friends</label>

						<input type="radio" class="btn-check" name="btnradio" id="requests" autocomplete="off" data-tab-value="requests">
						<label class="btn btn-outline-primary" for="requests" data-text="friends.requests">Friend Requests</label>

						<input type="radio" class="btn-check" name="btnradio" id="blocked" autocomplete="off" data-tab-value="blocked">
						<label class="btn btn-outline-primary" for="blocked" data-text="friends.blocked">Blocked Users</label>
					</div>
				</div>
			</div>
			<div class="modal-body w-100">
				<div class="tab-pane fade show active" id="tab-pane-add" role="tabpanel">
					<div class="d-flex justify-content-center">
						<div class="input-group mb-3 w-50 mt-5">
							<input type="text" class="form-control" id="add-friend-input">
							<button class="btn btn-secondary" type="button" id="add-friend-btn">
								<i class="ri-add-fill"></i>
							</button>
						</div>
					</div>
					<div>
						<p id="request-success" class="hidden" data-text="friends.requestSuccess">Friend Request sent successfully!</p>
						<p id="request-fail1" class="hidden" data-text="friends.yourself">You cannot send a friend request to yourself!</p>
						<p id="request-fail2" class="hidden" data-text="friends.unknownUser">Couldn't find user!</p>
						<p id="request-fail3" class="hidden" data-text="friends.alreadyFriends">You are already friends with this user!</p>
						<p id="request-fail4" class="hidden" data-text="friends.alreadyReceived">You already have a pending friend request with that user!</p>
						<p id="request-fail5" class="hidden" data-text="friends.userIsBlocked">You can't send a friend request to a blocked user!</p>
						<p id="request-fail6" class="hidden" data-text="friends.userBlockedYou">You can't send this user a friend request because the user blocked you!</p>
					</div>
				</div>
                <div class="tab-pane fade" id="tab-pane-manage" role="tabpanel">
                    <div id="friendsTable" class="table-responsive">
                        <table class="table table-centered">
                            <tbody id="friends-list">
                            </tbody>
                        </table>
                    </div>
					<div id="noFriendsMessage" class="hidden error-message" data-text="friends.noFriends">You have no friends!</div>
                </div>
                <div class="tab-pane fade" id="tab-pane-requests" role="tabpanel">
                    <div id="requestsTable" class="table-responsive">
                        <table class="table table-centered">
                            <tbody id="requests-list">
                            </tbody>
                        </table>
                    </div>
					<div id="noRequestsMessage" class="hidden error-message" data-text="friends.noRequests">You have no pending friend requests.</div>
                </div>
                <div class="tab-pane fade" id="tab-pane-blocked" role="tabpanel">
                    <div id="blockedTable" class="table-responsive">
                        <table class="table table-centered">
                            <tbody id="blocked-users-list">
                            </tbody>
                        </table>
                    </div>
					<div id="noBlockedUsersMessage" class="hidden error-message" data-text="friends.noBlockedUsers">You have no blocked users.</div>
                </div>
			</div>
        </div>
    </div>
</div>
<div class="modal fade" id="playerProfileModal" tabindex="-1" aria-labelledby="playerProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div id="profile-modal" class="modal-content">
      <div class="modal-header p-0 border-0">
      </div>
      <div class="modal-body">
      </div>
    </div>
  </div>
</div>
